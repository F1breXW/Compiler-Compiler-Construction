{
  "name": "简单命令式语言文法",
  "description": "支持变量声明、赋值、算术表达式、if和while语句的简单语言",
  "lexical_rules": [
    {"pattern": "int", "token": "int"},
    {"pattern": "bool", "token": "bool"},
    {"pattern": "if", "token": "if"},
    {"pattern": "then", "token": "then"},
    {"pattern": "else", "token": "else"},
    {"pattern": "while", "token": "while"},
    {"pattern": "do", "token": "do"},
    {"pattern": "true", "token": "true"},
    {"pattern": "false", "token": "false"},
    {"pattern": "[a-zA-Z_][a-zA-Z0-9_]*", "token": "id"},
    {"pattern": "[0-9]+", "token": "num"},
    {"pattern": ":=", "token": ":="},
    {"pattern": "==", "token": "=="},
    {"pattern": "!=", "token": "!="},
    {"pattern": "<=", "token": "<="},
    {"pattern": ">=", "token": ">="},
    {"pattern": "<", "token": "<"},
    {"pattern": ">", "token": ">"},
    {"pattern": "\\+", "token": "+"},
    {"pattern": "-", "token": "-"},
    {"pattern": "\\*", "token": "*"},
    {"pattern": "/", "token": "/"},
    {"pattern": "&&", "token": "&&"},
    {"pattern": "\\|\\|", "token": "||"},
    {"pattern": "!", "token": "!"},
    {"pattern": "\\(", "token": "("},
    {"pattern": "\\)", "token": ")"},
    {"pattern": "\\{", "token": "{"},
    {"pattern": "\\}", "token": "}"},
    {"pattern": ";", "token": ";"}
  ],
  "grammar_rules": [
    "P -> S P",
    "P -> S",
    "S -> int id ;",
    "S -> bool id ;",
    "S -> id := E ;",
    "S -> if ( B ) then S",
    "S -> if ( B ) then S else S",
    "S -> while ( B ) do S",
    "S -> { P }",
    "S -> E ;",
    "E -> E + T",
    "E -> E - T",
    "E -> T",
    "T -> T * F",
    "T -> T / F",
    "T -> F",
    "F -> ( E )",
    "F -> id",
    "F -> num",
    "B -> E == E",
    "B -> E != E",
    "B -> E < E",
    "B -> E > E",
    "B -> E <= E",
    "B -> E >= E",
    "B -> true",
    "B -> false",
    "B -> ( B )",
    "B -> ! B",
    "B -> B && B",
    "B -> B || B"
  ],
  "test_cases": [
    {
      "description": "变量声明和算术运算",
      "input": "int x ; x := 10 + 5 ;",
      "expected": "legal"
    },
    {
      "description": "if语句",
      "input": "int x ; if ( x > 0 ) then x := 1 ;",
      "expected": "legal"
    }
  ]
}
